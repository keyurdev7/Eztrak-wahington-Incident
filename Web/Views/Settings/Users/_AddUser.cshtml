@using ViewModels
@model UserModifyViewModel

<form id="NewUserForm">
    <div class="form-container" id="saveuserDiv">
        <h3>Add New User</h3>
        <input type="hidden" value="@Model.Id" name="Id" id="user_@Model.Id" />
        <div class="form-grid">
            <div>
                <label>Team *</label>
                @Html.DropDownListFor(model => model.TeamId,
                         (SelectList)ViewBag.Teams,
                         "Select Team",
                         new { @class = "form-control" })
            </div>
            <div>
                <label>Company *</label>
                @Html.DropDownListFor(model => model.CompanyId,
                         (SelectList)ViewBag.Companies,
                         "Select Company",
                         new { @class = "form-control" })
            </div>
            <div>
                <label>Role *</label>
                @Html.DropDownListFor(model => model.IncidentRoleId,
                         (SelectList)ViewBag.Roles,
                         "Select Role",
                         new { @class = "form-control" })
            </div>
            <div>
                <label>Employee Type *</label>
                @{
                    var depts = new[] { "Employee", "Contractor", "Supervisor" };
                }
                <select asp-for="EmployeeType" name="EmployeeType" id="employeetypeSelect" class="form-control" data-val-required="Required">
                    <option value="">Select Type</option>
                    @foreach (var d in depts)
                    {
                        if (string.Equals(d, Model?.EmployeeType, StringComparison.OrdinalIgnoreCase))
                        {
                            <option value="@d" selected="selected">@d</option>
                        }
                        else
                        {
                            <option value="@d">@d</option>
                        }
                    }
                </select>
            </div>
            <div>
                <label>First Name *</label>
                <input type="text" class="form-control" placeholder="Enter first name" asp-for="FirstName">
            </div>
            <div>
                <label>Last Name *</label>
                <input type="text" class="form-control" placeholder="Enter last name" asp-for="LastName">
            </div>
            <div>
                <label>Telephone</label>
                <input type="text" class="form-control" placeholder="XXX-XXX-XXXX" asp-for="Telephone">
            </div>
            <div>
                <label>Email Address</label>
                <input type="text" class="form-control" placeholder="Enter mail" asp-for="Email">
            </div>
            <div>
                <label>PIN (4 digits) *</label>
                <input type="password" class="form-control" placeholder="Enter pin" maxlength="4" value="@Model.PinHash" asp-for="PinHash" id="pinhash">
            </div>
            <div>
                <label>Verify PIN *</label>
                <input type="password" class="form-control" placeholder="Re-enter pin" maxlength="4" value="@Model.VerifyPIN" asp-for="VerifyPIN" id="verifypin">
            </div>
        </div>
        <div class="d-flex align-items-center justify-content-end addCancelIcons mt-3">
            <button class="btn btn-gray canceluser">Cancel</button>
            <button class="btn btn-green saveuser">@(Model?.Id > 0 ? "Update User" : "Add User")</button>
        </div>
    </div>
</form>